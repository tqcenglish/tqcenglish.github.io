title: 内网穿透
date: 2018-09-12
tags: proxy
---

由于 ipv4 地址总量少， 当前互联网是多个用户使用一个局域网。 在接入公网时候才使用共同的一个公网 IP。 通过 NAT 可以解决 IP 地址稀少的问题。 但是对于在内网中架设 web 服务器需要非局域网用户访问时就需要内网穿透代理。

## 内网穿透代理
当前主要有两种方式 
1. 通过 vpn 方式将管理设备放在一个局域网中。
2. 通过 vps 建立中央代理， frp 使用的方式。 在 socket  上代理 http 协议。


- [zerotier](https://www.zerotier.com)
- [frp](https://github.com/fatedier/frp)

HTTP 内网穿透

## [对内网穿透软件进行相关讨论](https://tkv.io/posts/picojs-intro/)

1. ngrok1.x 存在内存泄漏问题
2. localtunel 原理是客户端与服务端建立 socket 连接， 外部请求先到服务端，服务端从建立的 socket 将数据发送到客户端，最后客户端发送数据到绑定的端口。 golang 客户端与js  服务端之间存在不稳定（socket 自动就断了）。
3. 推荐使用  frp

## 链接
- [使用 Zerotier 组建虚拟局域网实现内网穿透](http://einverne.github.io/post/2018/06/zerotier.html)
